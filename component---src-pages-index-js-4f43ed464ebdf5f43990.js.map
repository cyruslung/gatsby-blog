{"version":3,"sources":["webpack:///./src/components/layout.js","webpack:///./src/components/post-preview.js","webpack:///./src/pages/index.js"],"names":["Layout","props","className","id","to","children","PostPreview","post","data","slug","title","subTitle","author","name","publishDate","IndexPage","useState","chunk","setChunk","head","allContentfulHead","edges","node","posts","allContentfulPost","postBoby","slice","map","key","style","backgroundImage","image","file","url","display","length","onClick","indexQuery"],"mappings":"2FAAA,2DAyBeA,IAnBA,SAACC,GAAD,OACb,oCACE,yBAAKC,UAAU,iDAAiDC,GAAG,WACjE,yBAAKD,UAAU,aACb,kBAAC,OAAD,CAAMA,UAAU,eAAeE,GAAG,KAAlC,cAGHH,EAAMI,SACP,gCACE,yBAAKH,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,8BACb,uBAAGA,UAAU,wBAAb,wC,sGCEGI,EAlBK,SAACL,GACnB,IAAMM,EAAON,EAAMO,KACnB,OACA,oCACE,yBAAKN,UAAU,gBACb,kBAAC,OAAD,CAAME,GAAE,SAAWG,EAAKE,MACtB,wBAAIP,UAAU,cACbK,EAAKG,OAEN,wBAAIR,UAAU,iBACbK,EAAKI,WAGR,uBAAGT,UAAU,aAAb,aAAoCK,EAAKK,OAAOC,KAAhD,OAA0DN,EAAKO,cAEjE,+BCjBJ,2CA8CeC,UA1CG,SAACd,GAAU,MAKDe,mBAAS,GAA5BC,EALoB,KAKbC,EALa,KAMrBC,EAAOlB,EAAMO,KAAKY,kBAAkBC,MAAM,GAAGC,KAC7CC,EAAQtB,EAAMO,KAAKgB,kBAAkBH,MACrCI,EAAWF,EAAMG,MAAM,EAAG,EAAET,GAAOU,KAAI,SAACpB,GAAD,OAAQ,kBAAC,EAAD,CAAaqB,IAAKrB,EAAKe,KAAKb,KAAMD,KAAMD,EAAKe,UAElG,OACA,kBAAC,IAAD,KACE,4BAAQpB,UAAU,WAAW2B,MAAO,CAACC,gBAAgB,QAASX,EAAKY,MAAMC,KAAKC,IAA1B,OAClD,yBAAK/B,UAAU,YACf,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,gBACb,4BAAKiB,EAAKT,OACV,0BAAMR,UAAU,cAAciB,EAAKR,eAM7C,yBAAKT,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,8BACZuB,EAED,yBAAKvB,UAAU,WAAW2B,MAAO,CAACK,QAAS,EAAEjB,EAAMM,EAAMY,OAAS,QAAU,SAE1E,uBAAGjC,UAAU,8BAA8BkC,QAAS,kBAAMlB,EAASD,EAAQ,KAA3E,qBAMR,+BAtCJ,IA4CaoB,EAAU","file":"component---src-pages-index-js-4f43ed464ebdf5f43990.js","sourcesContent":["import React from \"react\"\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport '../scss/clean-blog.scss'\r\nimport {Link} from \"gatsby\"\r\n\r\nconst Layout = (props) => (\r\n  <>\r\n    <nav className=\"navbar navbar-expand-lg navbar-light fixed-top\" id=\"mainNav\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand\" to=\"/\">Hong Ten</Link>\r\n      </div>\r\n    </nav>\r\n    {props.children}\r\n    <footer>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-8 col-md-10 mx-auto\">\r\n            <p className=\"copyright text-muted\">Copyright &copy; Your Website 2019</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </>\r\n)\r\nexport default Layout","import React from \"react\"\r\nimport { Link } from \"gatsby\"\r\nconst PostPreview = (props) => {\r\n  const post = props.data\r\n  return (\r\n  <>\r\n    <div className=\"post-preview\">\r\n      <Link to={`/blog/${post.slug}`}>\r\n        <h2 className=\"post-title\">\r\n        {post.title}\r\n        </h2>\r\n        <h3 className=\"post-subtitle\">\r\n        {post.subTitle}\r\n        </h3>\r\n      </Link>\r\n      <p className=\"post-meta\">Posted by {post.author.name} on {post.publishDate}</p>\r\n    </div>\r\n    <hr/>\r\n  </>\r\n)}\r\nexport default PostPreview\r\n\r\n","import React, { useState } from \"react\"\r\nimport Layout from \"../components/layout\"\r\nimport PostPreview from \"../components/post-preview\"\r\n\r\nconst IndexPage = (props) => {\r\n  /*\r\n    使用useState這個hook，將chunk訂為state，並且setChunk為更改chunk的函式。\r\n    postBoby根據chunk*5的數量來顯示文章，每按一次按鈕，多5篇文章。\r\n  */\r\n  const [chunk, setChunk] = useState(1)\r\n  const head = props.data.allContentfulHead.edges[0].node\r\n  const posts = props.data.allContentfulPost.edges\r\n  const postBoby = posts.slice(0, 5*chunk).map((post)=><PostPreview key={post.node.slug} data={post.node}/>)\r\n\r\n  return (\r\n  <Layout>\r\n    <header className=\"masthead\" style={{backgroundImage: `url('${head.image.file.url}')`}}>\r\n      <div className=\"overlay\"></div>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-8 col-md-10 mx-auto\">\r\n            <div className=\"site-heading\">\r\n              <h1>{head.title}</h1>\r\n              <span className=\"subheading\">{head.subTitle}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-8 col-md-10 mx-auto\">\r\n          {postBoby}\r\n          {/* 根據顯示的文章數是否小於總文章數，來決定按鈕是否顯示 */}\r\n          <div className=\"clearfix\" style={{display: 5*chunk<posts.length ? 'block' : 'none' }}>\r\n            {/* 按下按鈕，觸發setChunk，將chunk變為chunk+1，並且因為state改變，因此組件觸發重新渲染 */}\r\n            <p className=\"btn btn-primary float-right\" onClick={() => setChunk(chunk + 1)}>Older Posts &rarr;</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <hr/>\r\n  </Layout>\r\n)}\r\n\r\nexport default IndexPage\r\n\r\nexport const indexQuery = graphql`\r\nquery indexQuery {\r\n  allContentfulHead {\r\n    edges {\r\n      node {\r\n        image {\r\n          file {\r\n            url\r\n          }\r\n        }\r\n        title\r\n        subTitle\r\n      }\r\n    }\r\n  }\r\n  allContentfulPost(sort: { fields: [publishDate], order: DESC }) {\r\n    edges {\r\n      node {\r\n        slug\r\n        title\r\n        subTitle\r\n        publishDate(formatString: \"MMMM Do, YYYY\")\r\n        author {\r\n          name\r\n        }\r\n        body {\r\n          childMarkdownRemark {\r\n            excerpt\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`\r\n"],"sourceRoot":""}